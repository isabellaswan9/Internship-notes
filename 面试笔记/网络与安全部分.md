### TCP与UDP的区别：

1、TCP是**面向连接**的，面向连接就是双方交换数据之前要先建立并确认连接。

UDP是**无连接**的，减少了开销和发送数据之前的时延。。如打电话与发邮件的例子。

2、TCP是**可靠**的，**有重传机制**，通过TCP连接传送的数据，无差错、不丢失、不重复、并且**按序到达**。UDP是不可靠的，不会进行重传。

3、TCP是**面向字节流**的，UDP是面向报文的，因此TCP**无界**，而UDP有界；

 TCP通过字节流传输，面向字节流的含义即 虽然应用程序和TCP的交互是一次一个大小不等的数据块，但TCP将应用程序交下来的数据看成是一连串的无结构的字节流。TCP并不知道所传送的字节流的含义。

UDP会保留应用层交下来的报文的边界，一次交付一个完整的报文。

4、TCP**有序**，UDP无序；

 消息在传输过程中可能会乱序，后发送的消息可能会先到达，TCP会对其进行重排序，UDP不会。

5、TCP有**流量控制**（拥塞控制），UDP没有流量控制，更适合媒体通信。TCP利用滑动窗口机制控制发送方的速度，更对方给出的窗口值和当前网络拥塞的程度决定一个报文段应该包含多少个字节。以免接收方来不及接收，造成数据的丢失。UDP则不会。

 拥塞控制：防止过多的数据注入到网络中，使网络中的路由器或链路不致过载。

6、TCP**首部开销(**20个字节)比UDP的首部开销(8个字节)要大

 7、

TCP字节流和UDP数据报区别

两者的区别在于TCP接收的是一堆数据，而每次取多少由主机决定;而UDP发的是数据报，客户发送多少就接收多少。

TCP中的流指的是流入到进程或从进程流出的字节序列。

### TCP的三次握手：(我要和你建立链接，你真的要和我建立链接么，我真的要和你建立链接，成功)

第一次握手：Client将标志位SYN置为1，随机产生一个值seq=J，并将该数据包发送给Server，Client进入SYN_SENT状态，等待Server确认。

第二次握手：Server收到数据包后由标志位SYN=1知道Client请求建立连接，Server将标志位SYN和ACK都置为1，ack=J+1，随机产生一个值seq=K，并将该数据包发送给Client以确认连接请求，Server进入SYN_RCVD状态。

第三次握手：Client收到确认后，检查ack是否为J+1，ACK是否为1，如果正确则将标志位ACK置为1，ack=K+1，并将该数据包发送给Server，Server检查ack是否为K+1，ACK是否为1，如果正确则连接建立成功，Client和Server进入ESTABLISHED状态，完成三次握手，随后Client与Server之间可以开始传输数据了。

![](C:\Users\taylor.luo\Documents\notes\实习日记\三次握手.png)

ACK (Acknowledge character）即是确认字符，在数据通信中，接收站发给发送站的一种传输类控制字符。表示发来的数据已确认接收无误。

### 为什么TCP连接需要三次握手，两次不可以么?

为了防止 已失效的链接请求报文突然又传送到了服务端，因而产生错误。

客户端发出的连接请求报文并未丢失，而是在某个网络节点长时间滞留了，以致延误到链接释放以后的某个时间才到达Server。

这时，Server误以为这是Client发出的一个新的链接请求，于是就向客户端发送确认数据包，同意建立链接。若不采用“三次握手”，那么只要Server发出确认数据包，新的链接就建立了。

由于client此时并未发出建立链接的请求，所以其不会理睬Server的确认，也不与Server通信；

而这时Server一直在等待Client的请求，这样Server就白白浪费了一定的资源。

若采用“三次握手”，在这种情况下，由于Server端没有收到来自客户端的确认，则就会知道Client并没有要求建立请求，就不会建立链接。（但是Server会不停发送确认包，这也是SYN洪水攻击的原因。）

### 四次挥手：(我要和你断开链接；好的，断吧。我也要和你断开链接；好的，断吧)：

第一次挥手：Client发送一个FIN，用来关闭Client到Server的数据传送，Client进入FIN_WAIT_1状态。

 

第二次挥手：Server收到FIN后，发送一个ACK给Client，确认序号为收到序号+1（与SYN相同，一个FIN占用一个序号），Server进入CLOSE_WAIT状态。此时TCP链接处于半关闭状态，即客户端已经没有要发送的数据了，但服务端若发送数据，则客户端仍要接收。

 

第三次挥手：Server发送一个FIN，用来关闭Server到Client的数据传送，Server进入LAST_ACK状态。

 

第四次挥手：Client收到FIN后，Client进入TIME_WAIT状态，接着发送一个ACK给Server，确认序号为收到序号+1，Server进入CLOSED状态，完成四次挥手。

![四次挥手](C:\Users\taylor.luo\Documents\notes\实习日记\四次挥手.png)

### 关于域名和域名服务器

![dns解析](C:\Users\taylor.luo\Documents\notes\实习日记\dns解析.png)

与IP地址一一对应，方便用户记忆与查询。

Hosts:记录常用域名及对应IP地址的文件。

DNS服务器：存放域名及对应IP地址，提供IP地址和域名之间的转换服务的服务器。

DNS（Domain Name System) 

安全：DNS污染和劫持。

DNS解析 ：一种服务。

![](C:\Users\taylor.luo\Documents\notes\实习日记\每一层对应的协议.png)

### CSRF

### SQL注入