[async函数](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/async_function)可能包含0个或多个await表达式。

await表达式会暂停整个async函数的执行进程，并等待基于promise的异步操作被执行后才会恢复进程，promise的解决值会被当做该await表达式的返回值。

async和await关键字是实现**基于Promise**的异步行为的**更简洁**的方式，无需刻意地链式调用promise。



## Promise对象(异步编程的一种解决方案)

### Promise出现的原因: 解决回调地狱

#### 回调地狱的缺点:

1. 代码臃肿 易出bug
2. 可读性差
3. 耦合度过高 可维护性差
4. 代码复用性差
5. 只能在回调函数里处理异常

### Promise的状态有哪些？

- *待定（pending）*: 初始状态，既没有被兑现，也没有被拒绝。
- *已兑现（fulfilled）*: 意味着操作成功完成。
- *已拒绝（rejected）*: 意味着操作失败。

### Promise的使用:

1. 初始化一个Promise对象
2. 调用该Promise对象的then方法,注册回调函数
3. 注册catch(异常处理)函数

#### 关于Promise

```
console.log('Hello World!');

function test () {
//定义一个函数，函数提升
  return new Promise((resolve, reject) => {

    console.log(2)

    resolve(true)

    console.log(3)

  })

  console.log(4)

}

 

setTimeout(function() {
//setTimeout不会立刻执行，属于第二轮宏任务
  test().then(res => {

   console.log(7)
//then的回调函数需要在resolve执行之后触发
  })

  console.log(5);

}, 0)

console.log(6)

 

//Hello World,6,2,3,5,7
//执行第一轮Hello World,6,没有微任务
//第二轮,2,3,5,微任务 7
```

原型链攻击

使用promise实现一个sleep函数
